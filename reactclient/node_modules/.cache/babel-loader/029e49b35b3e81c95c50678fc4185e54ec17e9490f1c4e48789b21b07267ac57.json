{"ast":null,"code":"import _defineProperty from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _createForOfIteratorHelper from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// css\nimport'../css/chat_main.css';import'../css/chat_user.css';import'../css/chat_window.css';// // javascript\nimport{Chat_window}from\"./Chat_window.js\";import{useEffect,useRef,useState}from\"react\";import UserList from\"./UserList\";import{useNavigate}from'react-router-dom';import{token}from'../login_signup/login/Login';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Form from'react-bootstrap/Form';import{socket}from'../App.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var name_picture={_displayname:\"\",_profilePicture:\"\",_userName:\"\",set displayname(value){this._displayname=value;},get displayname(){return this._displayname;},set profilePicture(value){this._profilePicture=value;},get profilePicture(){return this._profilePicture;},set userName(value){this._userName=value;},get userName(){return this._userName;}};var activeUser=null;var activeId=null;function Chat(_ref){var setLoggedIn=_ref.setLoggedIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),currentMessages=_useState4[0],setCurrentMessages=_useState4[1];var inputRef=useRef(\"\");var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),addUserErrorText=_useState6[0],setAddUserErrorText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),invalid=_useState10[0],setInvalid=_useState10[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};//const [stateArray, setStateArray] = useState({\"Daniel\":{time:1, lastMsg:\"prrr\", active:\"active\"}});\nvar _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),stateArray=_useState12[0],setStateArray=_useState12[1];// user list at left side of screen.\nuseEffect(function(){// when component mounts\nactiveUser=null;activeId=null;getUserChatsFromServer().then(setStateArray);},[]);var addRef=useRef(\"\");var navigate=useNavigate();useEffect(function(){socket.on(\"receive_message\",function(data){console.log(activeUser);console.log(activeId);getUserChatsFromServer().then(setStateArray);if(activeId!==null){upd();}});},[socket]);function currTime(){var today=new Date();return today.toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"});}function adaptFormat(obj){// change the object given from server from chats, to syntax needed to stateArray\nvar ObjectToStateArray={};var _iterator=_createForOfIteratorHelper(obj),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var user=_step.value;var LASTMSGID;var TIME;var CONTENT;if(!user.lastMessage){LASTMSGID=-1;TIME=\"\";CONTENT=\"\";}else{LASTMSGID=user.lastMessage.id;TIME=user.lastMessage.created;var datetime=new Date(TIME);// Extracting the time\nvar time=datetime.toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"});// Extracting the date\nvar date=datetime.toLocaleDateString();TIME=time+\" \"+date;CONTENT=user.lastMessage.content;}if(user.user.username!==activeUser){ObjectToStateArray[user.user.username]={displayName:user.user.displayName,profilePic:user.user.profilePic,lastMsg:CONTENT,lastMsgId:LASTMSGID,time:TIME,active:\"inactive\",chatId:user.id};}else{ObjectToStateArray[user.user.username]={displayName:user.user.displayName,profilePic:user.user.profilePic,lastMsg:CONTENT,lastMsgId:LASTMSGID,time:TIME,active:\"active\",chatId:user.id};}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return ObjectToStateArray;}function getUserChatsFromServer(){return _getUserChatsFromServer.apply(this,arguments);}function _getUserChatsFromServer(){_getUserChatsFromServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,j;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/api/Chats',{'method':'get','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:j=_context.sent;return _context.abrupt(\"return\",adaptFormat(j));case 7:case\"end\":return _context.stop();}},_callee);}));return _getUserChatsFromServer.apply(this,arguments);}function SendMsg(){return _SendMsg.apply(this,arguments);}// return false\nfunction _SendMsg(){_SendMsg=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var msg,data,id,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:msg=inputRef.current.value.trim();if(!(msg===\"\")){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:// show the message on screen\nsetCurrentMessages([].concat(_toConsumableArray(currentMessages),[{content:msg,sender:\"You\"}]));data={msg:msg};id=stateArray[currentUser].chatId.toString();_context2.next=8;return fetch('http://localhost:5000/api/Chats/'+id+'/Messages',{'method':'post','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token},'body':JSON.stringify(data)});case 8:res=_context2.sent;setStateArray(_objectSpread(_objectSpread({},stateArray),{},_defineProperty({},currentUser,_objectSpread(_objectSpread({},stateArray[currentUser]),{},{lastMsg:msg,time:currTime()}))));inputRef.current.value=\"\";socket.emit(\"send_message\",{chat_id:activeId,socket:socket.id,username:currentUser,message:msg});case 12:case\"end\":return _context2.stop();}},_callee2);}));return _SendMsg.apply(this,arguments);}function AddUser(){return _AddUser.apply(this,arguments);}function _AddUser(){_AddUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var user,data,res2,json2,dictToAdd,_objectSpread3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:user=addRef.current.value;// username\nif(!(user in stateArray)){_context3.next=5;break;}setInvalid(true);setAddUserErrorText(\"Can't chat with user more than once.\");return _context3.abrupt(\"return\");case 5:data={username:user};_context3.next=8;return fetch('http://localhost:5000/api/Chats',{'method':'post','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token},'body':JSON.stringify(data)});case 8:res2=_context3.sent;console.log(res2.status);if(!(res2.status!==200)){_context3.next=14;break;}setInvalid(true);setAddUserErrorText(\"Invalid user to add.\");return _context3.abrupt(\"return\");case 14:_context3.next=16;return res2.json();case 16:json2=_context3.sent;// result should have the info on the requested user in data.\n/*\n        * The response looks like this:\n        * {\n          \"id\": 2,\n          \"user\": {\n            \"username\": \"bob\",\n            \"displayName\": \"BOB\",\n            \"profilePic\": \"string\"\n          }\n            }\n            * */dictToAdd={time:\"\",lastMsg:\"\",active:\"active\",displayName:json2.user.displayName,profilePic:json2.user.profilePic,lastMsgId:-1,chatId:json2.id};if(currentUser!==\"\"){setStateArray(_objectSpread(_objectSpread({},stateArray),{},(_objectSpread3={},_defineProperty(_objectSpread3,currentUser,_objectSpread(_objectSpread({},stateArray[currentUser]),{},{active:\"inactive\"})),_defineProperty(_objectSpread3,user,dictToAdd),_objectSpread3)));}else{setStateArray(_objectSpread(_objectSpread({},stateArray),{},_defineProperty({},user,dictToAdd)));}setCurrentMessages(function(oldArray){return[];});setCurrentUser(user);setShow(false);activeId=dictToAdd.chatId;activeUser=user;socket.emit(\"send_message\",{chat_id:activeId,socket:socket.id,username:user.username,message:\"new chat\"});case 25:case\"end\":return _context3.stop();}},_callee3);}));return _AddUser.apply(this,arguments);}function upd(){return _upd.apply(this,arguments);}function _upd(){_upd=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res,messagesNew,messageList,reversedMessageList,_iterator2,_step2,message,sender;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:5000/api/Chats/'+activeId+'/Messages',{'method':'get','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token}});case 2:res=_context4.sent;messagesNew=[];_context4.next=6;return res.json();case 6:messageList=_context4.sent;reversedMessageList=messageList.reverse();_iterator2=_createForOfIteratorHelper(reversedMessageList);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){message=_step2.value;// reverse because of the way the server saves the messages\nsender=\"\";if(message.sender.username===name_picture.userName){sender=\"You\";}else{sender=\"Other\";}messagesNew.push({content:message.content,sender:sender});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}setCurrentMessages(function(oldArray){return messagesNew;});case 11:case\"end\":return _context4.stop();}},_callee4);}));return _upd.apply(this,arguments);}function switchUsers(_x){return _switchUsers.apply(this,arguments);}function _switchUsers(){_switchUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(username){var update,_stateArray,res,_objectSpread5,id,messagesNew,messageList,reversedMessageList,_iterator3,_step3,message,sender,_args5=arguments;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:update=_args5.length>1&&_args5[1]!==undefined?_args5[1]:0;_stateArray=_args5.length>2&&_args5[2]!==undefined?_args5[2]:null;activeUser=username;if(!(update===1)){_context5.next=9;break;}_context5.next=6;return fetch('http://localhost:5000/api/Chats/'+activeId+'/Messages',{'method':'get','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token}});case 6:res=_context5.sent;_context5.next=15;break;case 9:if(currentUser!==\"\"){setStateArray(_objectSpread(_objectSpread({},stateArray),{},(_objectSpread5={},_defineProperty(_objectSpread5,currentUser,_objectSpread(_objectSpread({},stateArray[currentUser]),{},{active:\"inactive\"})),_defineProperty(_objectSpread5,username,_objectSpread(_objectSpread({},stateArray[username]),{},{active:\"active\"})),_objectSpread5)));}else{setStateArray(_objectSpread(_objectSpread({},stateArray),{},_defineProperty({},username,_objectSpread(_objectSpread({},stateArray[username]),{},{active:\"active\"}))));}id=stateArray[username].chatId.toString();activeId=id;_context5.next=14;return fetch('http://localhost:5000/api/Chats/'+id+'/Messages',{'method':'get','headers':{'Content-Type':'application/json','authorization':\"bearer \"+token}});case 14:res=_context5.sent;case 15:messagesNew=[];_context5.next=18;return res.json();case 18:messageList=_context5.sent;reversedMessageList=messageList.reverse();_iterator3=_createForOfIteratorHelper(reversedMessageList);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){message=_step3.value;// reverse because of the way the server saves the messages\nsender=\"\";if(message.sender.username===name_picture.userName){sender=\"You\";}else{sender=\"Other\";}messagesNew.push({content:message.content,sender:sender});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}setCurrentMessages(function(oldArray){return messagesNew;});setCurrentUser(username);case 24:case\"end\":return _context5.stop();}},_callee5);}));return _switchUsers.apply(this,arguments);}function keydownSendMsg(_x2){return _keydownSendMsg.apply(this,arguments);}function _keydownSendMsg(){_keydownSendMsg=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(event){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(!(event.key===\"Enter\")){_context6.next=4;break;}event.preventDefault();_context6.next=4;return SendMsg();case 4:case\"end\":return _context6.stop();}},_callee6);}));return _keydownSendMsg.apply(this,arguments);}function keydownAddUser(_x3){return _keydownAddUser.apply(this,arguments);}function _keydownAddUser(){_keydownAddUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(event){return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!(event.key===\"Enter\")){_context7.next=4;break;}event.preventDefault();_context7.next=4;return AddUser();case 4:case\"end\":return _context7.stop();}},_callee7);}));return _keydownAddUser.apply(this,arguments);}function logOut(){setLoggedIn(false);navigate('/login',{replace:true});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Chat\"}),/*#__PURE__*/_jsx(\"link\",{href:\"../css/chat_main.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{href:\"../css/chat_user.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{href:\"../css/chat_window.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-picture\",children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;charset=utf-8;base64,\".concat(name_picture.profilePicture),className:\"rounded-circle\",alt:\"Profile Picture\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-username\",children:name_picture.displayname}),/*#__PURE__*/_jsx(\"div\",{className:\"add-user\",onClick:handleShow,children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-person-add\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"}),/*#__PURE__*/_jsx(UserList,{stateArray:stateArray,clicker:switchUsers})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger log-out-button\",onClick:logOut,children:\"Log out\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-profile-picture\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-username\"})]})}),/*#__PURE__*/_jsx(Chat_window,{messagesContent:currentMessages}),currentUser!==\"\"&&/*#__PURE__*/_jsxs(\"form\",{id:\"chat-area\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,rows:\"1\",name:\"text\",id:\"messageBar\",placeholder:\"Type your message here...\",onKeyDown:keydownSendMsg}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",id:\"msg\",onClick:SendMsg,children:\"Send\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add User\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"recipient-name\",className:\"col-form-label\",children:\"Contact name:\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text\",children:\"@\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",className:\"form-control\",id:\"recipient-name\",ref:addRef,isInvalid:invalid,onKeyDown:keydownAddUser}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:addUserErrorText})]})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:AddUser,children:\"Save Changes\"})]})]})]});}export default Chat;","map":{"version":3,"names":["Chat_window","useEffect","useRef","useState","UserList","useNavigate","token","Button","Modal","Form","socket","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","name_picture","_displayname","_profilePicture","_userName","displayname","value","profilePicture","userName","activeUser","activeId","Chat","_ref","setLoggedIn","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","currentMessages","setCurrentMessages","inputRef","_useState5","_useState6","addUserErrorText","setAddUserErrorText","_useState7","_useState8","show","setShow","_useState9","_useState10","invalid","setInvalid","handleClose","handleShow","_useState11","_useState12","stateArray","setStateArray","getUserChatsFromServer","then","addRef","navigate","on","data","console","log","upd","currTime","today","Date","toLocaleTimeString","hour","minute","adaptFormat","obj","ObjectToStateArray","_iterator","_createForOfIteratorHelper","_step","s","n","done","user","LASTMSGID","TIME","CONTENT","lastMessage","id","created","datetime","time","date","toLocaleDateString","content","username","displayName","profilePic","lastMsg","lastMsgId","active","chatId","err","e","f","_getUserChatsFromServer","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","j","wrap","_callee$","_context","prev","next","fetch","sent","json","abrupt","stop","SendMsg","_SendMsg","_callee2","msg","_callee2$","_context2","current","trim","concat","_toConsumableArray","sender","toString","JSON","stringify","_objectSpread","_defineProperty","emit","chat_id","message","AddUser","_AddUser","_callee3","res2","json2","dictToAdd","_objectSpread3","_callee3$","_context3","status","oldArray","_upd","_callee4","messagesNew","messageList","reversedMessageList","_iterator2","_step2","_callee4$","_context4","reverse","push","switchUsers","_x","_switchUsers","_callee5","update","_stateArray","_objectSpread5","_iterator3","_step3","_args5","_callee5$","_context5","length","undefined","keydownSendMsg","_x2","_keydownSendMsg","_callee6","event","_callee6$","_context6","key","preventDefault","keydownAddUser","_x3","_keydownAddUser","_callee7","_callee7$","_context7","logOut","replace","children","href","rel","className","src","alt","onClick","xmlns","width","height","fill","viewBox","d","clicker","messagesContent","ref","rows","name","placeholder","onKeyDown","type","onHide","Header","closeButton","Title","Body","Group","Label","htmlFor","Control","isInvalid","Feedback","Footer","variant"],"sources":["/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/src/chat/Chat.js"],"sourcesContent":["// css\nimport '../css/chat_main.css';\nimport '../css/chat_user.css';\nimport '../css/chat_window.css';\n\n// // javascript\nimport {Chat_window} from \"./Chat_window.js\";\nimport {useEffect, useRef, useState} from \"react\";\nimport UserList from \"./UserList\"\nimport {useNavigate} from 'react-router-dom'\nimport {token} from '../login_signup/login/Login';\n\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport {socket} from '../App.js';\n\nexport var name_picture = {\n    _displayname:\"\",\n    _profilePicture:\"\",\n    _userName:\"\",\n    set displayname(value) {\n        this._displayname = value;\n    },\n    get displayname() {\n        return this._displayname;\n    },\n    set profilePicture(value) {\n        this._profilePicture = value;\n    },\n    get profilePicture() {\n        return this._profilePicture;\n    },\n    set userName(value) {\n        this._userName = value;\n    },\n    get userName() {\n        return this._userName;\n    }\n}\n\nlet activeUser = null;\nlet activeId = null;\nfunction Chat({setLoggedIn}) {\n    const [currentUser, setCurrentUser] = useState(\"\");\n    const [currentMessages, setCurrentMessages] = useState([]);\n    const inputRef = useRef(\"\");\n    const [addUserErrorText, setAddUserErrorText] = useState(\"\");\n    const [show, setShow] = useState(false);\n    const [invalid, setInvalid] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    //const [stateArray, setStateArray] = useState({\"Daniel\":{time:1, lastMsg:\"prrr\", active:\"active\"}});\n\n    const [stateArray, setStateArray] = useState(null); // user list at left side of screen.\n    useEffect(()=> { // when component mounts\n        activeUser=null;\n        activeId=null;\n        getUserChatsFromServer().then(setStateArray);\n    },[])\n    const addRef = useRef(\"\")\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        socket.on(\"receive_message\", (data) => {\n            console.log(activeUser);\n            console.log(activeId);\n            getUserChatsFromServer().then(setStateArray);\n            if (activeId !== null) {\n                upd();\n            }\n        })\n    }, [socket]);\n\n    function currTime() {\n        var today = new Date();\n        return today.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n    }\n    function adaptFormat(obj) {\n        // change the object given from server from chats, to syntax needed to stateArray\n        var ObjectToStateArray = {};\n        for(const user of obj) {\n            var LASTMSGID;\n            var TIME;\n            var CONTENT;\n            if(!user.lastMessage) {\n                LASTMSGID=-1;\n                TIME=\"\";\n                CONTENT=\"\";\n            } else {\n                LASTMSGID=user.lastMessage.id;\n                TIME=user.lastMessage.created;\n                const datetime = new Date(TIME);\n                // Extracting the time\n                const time = datetime.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n\n                // Extracting the date\n                const date = datetime.toLocaleDateString();\n                TIME = time + \" \" + date;\n                CONTENT=user.lastMessage.content;\n            }\n            if (user.user.username !== activeUser) {\n                ObjectToStateArray[user.user.username] = {\n                    displayName: user.user.displayName, profilePic: user.user.profilePic, lastMsg: CONTENT,\n                    lastMsgId: LASTMSGID, time: TIME, active: \"inactive\", chatId: user.id\n                }\n            } else {\n                ObjectToStateArray[user.user.username] = {\n                    displayName: user.user.displayName, profilePic: user.user.profilePic, lastMsg: CONTENT,\n                    lastMsgId: LASTMSGID, time: TIME, active: \"active\", chatId: user.id\n                }\n            }\n        }\n        return ObjectToStateArray;\n    }\n    async function getUserChatsFromServer() {\n        const res = await fetch('http://localhost:5000/api/Chats', {\n            'method':'get',\n            'headers' : {\n                'Content-Type': 'application/json',\n                'authorization' : \"bearer \" + token,\n            }\n        });\n        var j = await res.json();\n        return adaptFormat(j);\n    }\n    async function SendMsg() {\n        var msg = inputRef.current.value.trim();\n        if (msg === \"\"){\n            return;\n        }\n        // show the message on screen\n        setCurrentMessages([...currentMessages, {content:msg,sender:\"You\"}])\n        const data = {\n            msg:msg\n        }\n        const id = stateArray[currentUser].chatId.toString();\n        const res = await fetch('http://localhost:5000/api/Chats/'+id+'/Messages', {\n            'method':'post',\n            'headers':{\n                'Content-Type': 'application/json',\n                'authorization' : \"bearer \" + token,\n            },\n            'body':JSON.stringify(data)\n        })\n        setStateArray({...stateArray, [currentUser]: {...stateArray[currentUser], lastMsg:msg, time:currTime()}})\n        inputRef.current.value=\"\";\n        socket.emit(\"send_message\", {chat_id: activeId, socket: socket.id, username: currentUser, message: msg});\n\n    }\n    // return false\n\n\n    async function AddUser() {\n        var user = addRef.current.value // username\n        if(user in stateArray){\n            setInvalid(true);\n            setAddUserErrorText(\"Can't chat with user more than once.\")\n            return;\n        }\n        const data = {\n            username:user\n        }\n        const res2 = await fetch('http://localhost:5000/api/Chats', {\n            'method':'post',\n            'headers' : {\n                'Content-Type': 'application/json',\n                'authorization' : \"bearer \" + token,\n            },\n            'body' : JSON.stringify(data)\n        });\n        console.log(res2.status);\n        if(res2.status!==200) {\n            setInvalid(true);\n            setAddUserErrorText(\"Invalid user to add.\")\n            return;\n        }\n        const json2 = await res2.json(); // result should have the info on the requested user in data.\n        /*\n        * The response looks like this:\n        * {\n          \"id\": 2,\n          \"user\": {\n            \"username\": \"bob\",\n            \"displayName\": \"BOB\",\n            \"profilePic\": \"string\"\n          }\n            }\n            * */\n        var dictToAdd = {\n            time: \"\", lastMsg: \"\", active: \"active\",displayName:json2.user.displayName,\n            profilePic:json2.user.profilePic,lastMsgId:-1,chatId:json2.id\n        }\n        if(currentUser!==\"\") {\n            setStateArray({\n                ...stateArray, [currentUser]: {...stateArray[currentUser], active: \"inactive\"},\n                [user]: dictToAdd\n            });\n        } else {\n            setStateArray({\n                ...stateArray,\n                [user]: dictToAdd\n            });\n        }\n        setCurrentMessages(oldArray=>[]);\n        setCurrentUser(user);\n        setShow(false);\n        activeId = dictToAdd.chatId;\n        activeUser = user;\n        socket.emit(\"send_message\", {chat_id: activeId, socket: socket.id, username: user.username, message: \"new chat\"});\n    }\n    async function upd(){\n        const res = await fetch('http://localhost:5000/api/Chats/' + activeId + '/Messages', {\n            'method': 'get',\n            'headers': {\n                'Content-Type': 'application/json',\n                'authorization': \"bearer \" + token,\n            }\n        })\n        const messagesNew = [];\n        const messageList = await res.json();\n        const reversedMessageList = messageList.reverse();\n        for (const message of reversedMessageList) { // reverse because of the way the server saves the messages\n            var sender = \"\"\n            if (message.sender.username === name_picture.userName) {\n                sender = \"You\"\n            } else {\n                sender = \"Other\"\n            }\n            messagesNew.push({content: message.content, sender: sender})\n        }\n        setCurrentMessages(oldArray => messagesNew);\n    }\n    async function switchUsers(username, update = 0, _stateArray = null) {\n        activeUser = username;\n        let res;\n        if (update === 1) {\n            res = await fetch('http://localhost:5000/api/Chats/' + activeId + '/Messages', {\n                'method': 'get',\n                'headers': {\n                    'Content-Type': 'application/json',\n                    'authorization': \"bearer \" + token,\n                }\n            })\n        } else {\n            if (currentUser !== \"\") {\n                setStateArray({\n                    ...stateArray, [currentUser]: {...stateArray[currentUser], active: \"inactive\"},\n                    [username]: {...stateArray[username], active: \"active\"}\n                });\n            } else {\n                setStateArray({\n                    ...stateArray,\n                    [username]: {...stateArray[username], active: \"active\"}\n                });\n            }\n            const id = stateArray[username].chatId.toString();\n            activeId = id;\n            res = await fetch('http://localhost:5000/api/Chats/' + id + '/Messages', {\n                'method': 'get',\n                'headers': {\n                    'Content-Type': 'application/json',\n                    'authorization': \"bearer \" + token,\n                }\n            })\n\n        }\n        const messagesNew = [];\n        const messageList = await res.json();\n        const reversedMessageList = messageList.reverse();\n        for (const message of reversedMessageList) { // reverse because of the way the server saves the messages\n            var sender = \"\"\n            if (message.sender.username === name_picture.userName) {\n                sender = \"You\"\n            } else {\n                sender = \"Other\"\n            }\n            messagesNew.push({content: message.content, sender: sender})\n        }\n        setCurrentMessages(oldArray => messagesNew);\n        setCurrentUser(username);\n    }\n\n    async function keydownSendMsg(event){\n        if(event.key === \"Enter\") {\n            event.preventDefault();\n            await SendMsg();\n        }\n    }\n    async function keydownAddUser(event) {\n        if(event.key === \"Enter\") {\n            event.preventDefault();\n            await AddUser();\n        }\n    }\n    function logOut() {\n        setLoggedIn(false);\n        navigate('/login',{replace:true});\n    }\n    return (\n        <>\n            <title>Chat</title>\n            <link href=\"../css/chat_main.css\" rel=\"stylesheet\"/>\n            <link href=\"../css/chat_user.css\" rel=\"stylesheet\"/>\n            <link href=\"../css/chat_window.css\" rel=\"stylesheet\"/>\n            <div className=\"chat-container\">\n                <div className=\"user-list-container\">\n                    <div className=\"profile-container\">\n                        <div className=\"profile-picture\">\n                            <img\n                                src={`data:image/jpeg;charset=utf-8;base64,${name_picture.profilePicture}`}\n                                className=\"rounded-circle\" alt=\"Profile Picture\"/>\n                        </div>\n\n                        <div className=\"profile-username\">\n                            {name_picture.displayname}\n                        </div>\n\n                        <div className=\"add-user\" onClick={handleShow}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n                                 className=\"bi bi-person-add\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"/>\n                                <path\n                                    d=\"M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z\"/>\n                            </svg>\n                        </div>\n                    </div>\n                    <h2>Users</h2>\n                    <UserList stateArray={stateArray} clicker={switchUsers}/>\n                </div>\n\n                <button className=\"btn btn-danger log-out-button\" onClick={logOut}>Log out</button>\n\n                <div className=\"chat-window-container\">\n                    <div className=\"chat-header\">\n                        <div className=\"user-container\">\n                            <div className=\"chat-profile-picture\">\n                            </div>\n                            <div className=\"friend-username\">\n                            </div>\n                        </div>\n                    </div>\n                    <Chat_window  messagesContent={currentMessages}\n                    ></Chat_window>\n                    {(currentUser!==\"\") && (<form id=\"chat-area\">\n                        <input ref={inputRef} rows=\"1\" name=\"text\" id=\"messageBar\"\n                               placeholder=\"Type your message here...\" onKeyDown={keydownSendMsg} />\n                        <button type=\"button\" className=\"btn btn-primary\" id=\"msg\" onClick={SendMsg}>Send</button>\n                    </form>)}\n\n\n\n                </div>\n            </div>\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add User</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <form>\n                        <Form.Group className=\"mb-3\">\n                            <Form.Label htmlFor=\"recipient-name\" className=\"col-form-label\">Contact name:</Form.Label>\n                            <Form.Group className=\"input-group\">\n                                <div className=\"input-group-text\">@</div>\n                                <Form.Control type=\"text\" className=\"form-control\" id=\"recipient-name\" ref={addRef}\n                                              isInvalid = {invalid} onKeyDown={keydownAddUser} />\n                                <Form.Control.Feedback type=\"invalid\">{addUserErrorText}</Form.Control.Feedback>\n                            </Form.Group>\n                        </Form.Group>\n                    </form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={AddUser}>\n                        Save Changes\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n\n    );\n}\n\nexport default Chat;\n"],"mappings":"klCAAA;AACA,MAAO,sBAAsB,CAC7B,MAAO,sBAAsB,CAC7B,MAAO,wBAAwB,CAE/B;AACA,OAAQA,WAAW,KAAO,kBAAkB,CAC5C,OAAQC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAO,OAAO,CACjD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAAQC,KAAK,KAAO,6BAA6B,CAEjD,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CACzC,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,OAAQC,MAAM,KAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEjC,MAAO,IAAI,CAAAC,YAAY,CAAG,CACtBC,YAAY,CAAC,EAAE,CACfC,eAAe,CAAC,EAAE,CAClBC,SAAS,CAAC,EAAE,CACZ,GAAI,CAAAC,WAAWA,CAACC,KAAK,CAAE,CACnB,IAAI,CAACJ,YAAY,CAAGI,KAAK,CAC7B,CAAC,CACD,GAAI,CAAAD,WAAWA,CAAA,CAAG,CACd,MAAO,KAAI,CAACH,YAAY,CAC5B,CAAC,CACD,GAAI,CAAAK,cAAcA,CAACD,KAAK,CAAE,CACtB,IAAI,CAACH,eAAe,CAAGG,KAAK,CAChC,CAAC,CACD,GAAI,CAAAC,cAAcA,CAAA,CAAG,CACjB,MAAO,KAAI,CAACJ,eAAe,CAC/B,CAAC,CACD,GAAI,CAAAK,QAAQA,CAACF,KAAK,CAAE,CAChB,IAAI,CAACF,SAAS,CAAGE,KAAK,CAC1B,CAAC,CACD,GAAI,CAAAE,QAAQA,CAAA,CAAG,CACX,MAAO,KAAI,CAACJ,SAAS,CACzB,CACJ,CAAC,CAED,GAAI,CAAAK,UAAU,CAAG,IAAI,CACrB,GAAI,CAAAC,QAAQ,CAAG,IAAI,CACnB,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAgB,IAAd,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CACtB,IAAAC,SAAA,CAAsC3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAA8ChC,QAAQ,CAAC,EAAE,CAAC,CAAAiC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,GAAM,CAAAG,QAAQ,CAAGrC,MAAM,CAAC,EAAE,CAAC,CAC3B,IAAAsC,UAAA,CAAgDrC,QAAQ,CAAC,EAAE,CAAC,CAAAsC,UAAA,CAAAT,cAAA,CAAAQ,UAAA,IAArDE,gBAAgB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAC5C,IAAAG,UAAA,CAAwBzC,QAAQ,CAAC,KAAK,CAAC,CAAA0C,UAAA,CAAAb,cAAA,CAAAY,UAAA,IAAhCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA8B7C,QAAQ,CAAC,KAAK,CAAC,CAAA8C,WAAA,CAAAjB,cAAA,CAAAgB,UAAA,IAAtCE,OAAO,CAAAD,WAAA,IAAEE,UAAU,CAAAF,WAAA,IAC1B,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,QAAS,CAAAL,OAAO,CAAC,KAAK,CAAC,GACxC,GAAM,CAAAM,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,QAAS,CAAAN,OAAO,CAAC,IAAI,CAAC,GACtC;AAEA,IAAAO,WAAA,CAAoCnD,QAAQ,CAAC,IAAI,CAAC,CAAAoD,WAAA,CAAAvB,cAAA,CAAAsB,WAAA,IAA3CE,UAAU,CAAAD,WAAA,IAAEE,aAAa,CAAAF,WAAA,IAAoB;AACpDtD,SAAS,CAAC,UAAK,CAAE;AACbwB,UAAU,CAAC,IAAI,CACfC,QAAQ,CAAC,IAAI,CACbgC,sBAAsB,EAAE,CAACC,IAAI,CAACF,aAAa,CAAC,CAChD,CAAC,CAAC,EAAE,CAAC,CACL,GAAM,CAAAG,MAAM,CAAG1D,MAAM,CAAC,EAAE,CAAC,CACzB,GAAM,CAAA2D,QAAQ,CAAGxD,WAAW,EAAE,CAE9BJ,SAAS,CAAC,UAAM,CACZS,MAAM,CAACoD,EAAE,CAAC,iBAAiB,CAAE,SAACC,IAAI,CAAK,CACnCC,OAAO,CAACC,GAAG,CAACxC,UAAU,CAAC,CACvBuC,OAAO,CAACC,GAAG,CAACvC,QAAQ,CAAC,CACrBgC,sBAAsB,EAAE,CAACC,IAAI,CAACF,aAAa,CAAC,CAC5C,GAAI/B,QAAQ,GAAK,IAAI,CAAE,CACnBwC,GAAG,EAAE,CACT,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,CAACxD,MAAM,CAAC,CAAC,CAEZ,QAAS,CAAAyD,QAAQA,CAAA,CAAG,CAChB,GAAI,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,EAAE,CACtB,MAAO,CAAAD,KAAK,CAACE,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAC/E,CACA,QAAS,CAAAC,WAAWA,CAACC,GAAG,CAAE,CACtB;AACA,GAAI,CAAAC,kBAAkB,CAAG,CAAC,CAAC,CAAC,IAAAC,SAAA,CAAAC,0BAAA,CACVH,GAAG,EAAAI,KAAA,KAArB,IAAAF,SAAA,CAAAG,CAAA,KAAAD,KAAA,CAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,EAAuB,IAAb,CAAAC,IAAI,CAAAJ,KAAA,CAAAxD,KAAA,CACV,GAAI,CAAA6D,SAAS,CACb,GAAI,CAAAC,IAAI,CACR,GAAI,CAAAC,OAAO,CACX,GAAG,CAACH,IAAI,CAACI,WAAW,CAAE,CAClBH,SAAS,CAAC,CAAC,CAAC,CACZC,IAAI,CAAC,EAAE,CACPC,OAAO,CAAC,EAAE,CACd,CAAC,IAAM,CACHF,SAAS,CAACD,IAAI,CAACI,WAAW,CAACC,EAAE,CAC7BH,IAAI,CAACF,IAAI,CAACI,WAAW,CAACE,OAAO,CAC7B,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAApB,IAAI,CAACe,IAAI,CAAC,CAC/B;AACA,GAAM,CAAAM,IAAI,CAAGD,QAAQ,CAACnB,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAEpF;AACA,GAAM,CAAAmB,IAAI,CAAGF,QAAQ,CAACG,kBAAkB,EAAE,CAC1CR,IAAI,CAAGM,IAAI,CAAG,GAAG,CAAGC,IAAI,CACxBN,OAAO,CAACH,IAAI,CAACI,WAAW,CAACO,OAAO,CACpC,CACA,GAAIX,IAAI,CAACA,IAAI,CAACY,QAAQ,GAAKrE,UAAU,CAAE,CACnCkD,kBAAkB,CAACO,IAAI,CAACA,IAAI,CAACY,QAAQ,CAAC,CAAG,CACrCC,WAAW,CAAEb,IAAI,CAACA,IAAI,CAACa,WAAW,CAAEC,UAAU,CAAEd,IAAI,CAACA,IAAI,CAACc,UAAU,CAAEC,OAAO,CAAEZ,OAAO,CACtFa,SAAS,CAAEf,SAAS,CAAEO,IAAI,CAAEN,IAAI,CAAEe,MAAM,CAAE,UAAU,CAAEC,MAAM,CAAElB,IAAI,CAACK,EACvE,CAAC,CACL,CAAC,IAAM,CACHZ,kBAAkB,CAACO,IAAI,CAACA,IAAI,CAACY,QAAQ,CAAC,CAAG,CACrCC,WAAW,CAAEb,IAAI,CAACA,IAAI,CAACa,WAAW,CAAEC,UAAU,CAAEd,IAAI,CAACA,IAAI,CAACc,UAAU,CAAEC,OAAO,CAAEZ,OAAO,CACtFa,SAAS,CAAEf,SAAS,CAAEO,IAAI,CAAEN,IAAI,CAAEe,MAAM,CAAE,QAAQ,CAAEC,MAAM,CAAElB,IAAI,CAACK,EACrE,CAAC,CACL,CACJ,CAAC,OAAAc,GAAA,EAAAzB,SAAA,CAAA0B,CAAA,CAAAD,GAAA,WAAAzB,SAAA,CAAA2B,CAAA,IACD,MAAO,CAAA5B,kBAAkB,CAC7B,CAAC,QACc,CAAAjB,sBAAsBA,CAAA,SAAA8C,uBAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,wBAAA,EAAAA,uBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAArC,SAAAC,QAAA,MAAAC,GAAA,CAAAC,CAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACsB,CAAAC,KAAK,CAAC,iCAAiC,CAAE,CACvD,QAAQ,CAAC,KAAK,CACd,SAAS,CAAG,CACR,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAG,SAAS,CAAGhH,KAClC,CACJ,CAAC,CAAC,QANIyG,GAAG,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SAOK,CAAAN,GAAG,CAACS,IAAI,EAAE,QAApBR,CAAC,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAM,MAAA,UACEhD,WAAW,CAACuC,CAAC,CAAC,0BAAAG,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GACxB,UAAAN,uBAAA,CAAAC,KAAA,MAAAC,SAAA,WACc,CAAAiB,OAAOA,CAAA,SAAAC,QAAA,CAAAnB,KAAA,MAAAC,SAAA,GAwBtB;AAAA,SAAAkB,SAAA,EAAAA,QAAA,CAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAxBA,SAAAgB,SAAA,MAAAC,GAAA,CAAA/D,IAAA,CAAAwB,EAAA,CAAAwB,GAAA,QAAAH,mBAAA,GAAAK,IAAA,UAAAc,UAAAC,SAAA,iBAAAA,SAAA,CAAAZ,IAAA,CAAAY,SAAA,CAAAX,IAAA,SACQS,GAAG,CAAGvF,QAAQ,CAAC0F,OAAO,CAAC3G,KAAK,CAAC4G,IAAI,EAAE,MACnCJ,GAAG,GAAK,EAAE,GAAAE,SAAA,CAAAX,IAAA,iBAAAW,SAAA,CAAAP,MAAA,kBAGd;AACAnF,kBAAkB,IAAA6F,MAAA,CAAAC,kBAAA,CAAK/F,eAAe,GAAE,CAACwD,OAAO,CAACiC,GAAG,CAACO,MAAM,CAAC,KAAK,CAAC,GAAE,CAC9DtE,IAAI,CAAG,CACT+D,GAAG,CAACA,GACR,CAAC,CACKvC,EAAE,CAAG/B,UAAU,CAACvB,WAAW,CAAC,CAACmE,MAAM,CAACkC,QAAQ,EAAE,CAAAN,SAAA,CAAAX,IAAA,SAClC,CAAAC,KAAK,CAAC,kCAAkC,CAAC/B,EAAE,CAAC,WAAW,CAAE,CACvE,QAAQ,CAAC,MAAM,CACf,SAAS,CAAC,CACN,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAG,SAAS,CAAGjF,KAClC,CAAC,CACD,MAAM,CAACiI,IAAI,CAACC,SAAS,CAACzE,IAAI,CAC9B,CAAC,CAAC,QAPIgD,GAAG,CAAAiB,SAAA,CAAAT,IAAA,CAQT9D,aAAa,CAAAgF,aAAA,CAAAA,aAAA,IAAKjF,UAAU,KAAAkF,eAAA,IAAGzG,WAAW,CAAAwG,aAAA,CAAAA,aAAA,IAAOjF,UAAU,CAACvB,WAAW,CAAC,MAAEgE,OAAO,CAAC6B,GAAG,CAAEpC,IAAI,CAACvB,QAAQ,EAAE,KAAG,CACzG5B,QAAQ,CAAC0F,OAAO,CAAC3G,KAAK,CAAC,EAAE,CACzBZ,MAAM,CAACiI,IAAI,CAAC,cAAc,CAAE,CAACC,OAAO,CAAElH,QAAQ,CAAEhB,MAAM,CAAEA,MAAM,CAAC6E,EAAE,CAAEO,QAAQ,CAAE7D,WAAW,CAAE4G,OAAO,CAAEf,GAAG,CAAC,CAAC,CAAC,yBAAAE,SAAA,CAAAN,IAAA,MAAAG,QAAA,GAE5G,UAAAD,QAAA,CAAAnB,KAAA,MAAAC,SAAA,WAIc,CAAAoC,OAAOA,CAAA,SAAAC,QAAA,CAAAtC,KAAA,MAAAC,SAAA,YAAAqC,SAAA,EAAAA,QAAA,CAAApC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAtB,SAAAmC,SAAA,MAAA9D,IAAA,CAAAnB,IAAA,CAAAkF,IAAA,CAAAC,KAAA,CAAAC,SAAA,CAAAC,cAAA,QAAAxC,mBAAA,GAAAK,IAAA,UAAAoC,UAAAC,SAAA,iBAAAA,SAAA,CAAAlC,IAAA,CAAAkC,SAAA,CAAAjC,IAAA,SACQnC,IAAI,CAAGtB,MAAM,CAACqE,OAAO,CAAC3G,KAAK,CAAC;AAAA,KAC7B4D,IAAI,GAAI,CAAA1B,UAAU,GAAA8F,SAAA,CAAAjC,IAAA,UACjBlE,UAAU,CAAC,IAAI,CAAC,CAChBR,mBAAmB,CAAC,sCAAsC,CAAC,QAAA2G,SAAA,CAAA7B,MAAA,kBAGzD1D,IAAI,CAAG,CACT+B,QAAQ,CAACZ,IACb,CAAC,CAAAoE,SAAA,CAAAjC,IAAA,SACkB,CAAAC,KAAK,CAAC,iCAAiC,CAAE,CACxD,QAAQ,CAAC,MAAM,CACf,SAAS,CAAG,CACR,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAG,SAAS,CAAGhH,KAClC,CAAC,CACD,MAAM,CAAGiI,IAAI,CAACC,SAAS,CAACzE,IAAI,CAChC,CAAC,CAAC,QAPIkF,IAAI,CAAAK,SAAA,CAAA/B,IAAA,CAQVvD,OAAO,CAACC,GAAG,CAACgF,IAAI,CAACM,MAAM,CAAC,CAAC,KACtBN,IAAI,CAACM,MAAM,GAAG,GAAG,GAAAD,SAAA,CAAAjC,IAAA,WAChBlE,UAAU,CAAC,IAAI,CAAC,CAChBR,mBAAmB,CAAC,sBAAsB,CAAC,QAAA2G,SAAA,CAAA7B,MAAA,mBAAA6B,SAAA,CAAAjC,IAAA,UAG3B,CAAA4B,IAAI,CAACzB,IAAI,EAAE,SAAzB0B,KAAK,CAAAI,SAAA,CAAA/B,IAAA,CAAsB;AACjC;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBACY4B,SAAS,CAAG,CACZzD,IAAI,CAAE,EAAE,CAAEO,OAAO,CAAE,EAAE,CAAEE,MAAM,CAAE,QAAQ,CAACJ,WAAW,CAACmD,KAAK,CAAChE,IAAI,CAACa,WAAW,CAC1EC,UAAU,CAACkD,KAAK,CAAChE,IAAI,CAACc,UAAU,CAACE,SAAS,CAAC,CAAC,CAAC,CAACE,MAAM,CAAC8C,KAAK,CAAC3D,EAC/D,CAAC,CACD,GAAGtD,WAAW,GAAG,EAAE,CAAE,CACjBwB,aAAa,CAAAgF,aAAA,CAAAA,aAAA,IACNjF,UAAU,MAAA4F,cAAA,IAAAV,eAAA,CAAAU,cAAA,CAAGnH,WAAW,CAAAwG,aAAA,CAAAA,aAAA,IAAOjF,UAAU,CAACvB,WAAW,CAAC,MAAEkE,MAAM,CAAE,UAAU,IAAAuC,eAAA,CAAAU,cAAA,CAC5ElE,IAAI,CAAGiE,SAAS,EAAAC,cAAA,GACnB,CACN,CAAC,IAAM,CACH3F,aAAa,CAAAgF,aAAA,CAAAA,aAAA,IACNjF,UAAU,KAAAkF,eAAA,IACZxD,IAAI,CAAGiE,SAAS,GACnB,CACN,CACA7G,kBAAkB,CAAC,SAAAkH,QAAQ,QAAE,EAAE,GAAC,CAChCtH,cAAc,CAACgD,IAAI,CAAC,CACpBnC,OAAO,CAAC,KAAK,CAAC,CACdrB,QAAQ,CAAGyH,SAAS,CAAC/C,MAAM,CAC3B3E,UAAU,CAAGyD,IAAI,CACjBxE,MAAM,CAACiI,IAAI,CAAC,cAAc,CAAE,CAACC,OAAO,CAAElH,QAAQ,CAAEhB,MAAM,CAAEA,MAAM,CAAC6E,EAAE,CAAEO,QAAQ,CAAEZ,IAAI,CAACY,QAAQ,CAAE+C,OAAO,CAAE,UAAU,CAAC,CAAC,CAAC,yBAAAS,SAAA,CAAA5B,IAAA,MAAAsB,QAAA,GACrH,UAAAD,QAAA,CAAAtC,KAAA,MAAAC,SAAA,WACc,CAAAxC,GAAGA,CAAA,SAAAuF,IAAA,CAAAhD,KAAA,MAAAC,SAAA,YAAA+C,KAAA,EAAAA,IAAA,CAAA9C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAlB,SAAA6C,SAAA,MAAA3C,GAAA,CAAA4C,WAAA,CAAAC,WAAA,CAAAC,mBAAA,CAAAC,UAAA,CAAAC,MAAA,CAAAlB,OAAA,CAAAR,MAAA,QAAAzB,mBAAA,GAAAK,IAAA,UAAA+C,UAAAC,SAAA,iBAAAA,SAAA,CAAA7C,IAAA,CAAA6C,SAAA,CAAA5C,IAAA,SAAA4C,SAAA,CAAA5C,IAAA,SACsB,CAAAC,KAAK,CAAC,kCAAkC,CAAG5F,QAAQ,CAAG,WAAW,CAAE,CACjF,QAAQ,CAAE,KAAK,CACf,SAAS,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGpB,KACjC,CACJ,CAAC,CAAC,QANIyG,GAAG,CAAAkD,SAAA,CAAA1C,IAAA,CAOHoC,WAAW,CAAG,EAAE,CAAAM,SAAA,CAAA5C,IAAA,SACI,CAAAN,GAAG,CAACS,IAAI,EAAE,QAA9BoC,WAAW,CAAAK,SAAA,CAAA1C,IAAA,CACXsC,mBAAmB,CAAGD,WAAW,CAACM,OAAO,EAAE,CAAAJ,UAAA,CAAAjF,0BAAA,CAC3BgF,mBAAmB,MAAzC,IAAAC,UAAA,CAAA/E,CAAA,KAAAgF,MAAA,CAAAD,UAAA,CAAA9E,CAAA,IAAAC,IAAA,EAA2C,CAAhC4D,OAAO,CAAAkB,MAAA,CAAAzI,KAAA,CAA2B;AACrC+G,MAAM,CAAG,EAAE,CACf,GAAIQ,OAAO,CAACR,MAAM,CAACvC,QAAQ,GAAK7E,YAAY,CAACO,QAAQ,CAAE,CACnD6G,MAAM,CAAG,KAAK,CAClB,CAAC,IAAM,CACHA,MAAM,CAAG,OAAO,CACpB,CACAsB,WAAW,CAACQ,IAAI,CAAC,CAACtE,OAAO,CAAEgD,OAAO,CAAChD,OAAO,CAAEwC,MAAM,CAAEA,MAAM,CAAC,CAAC,CAChE,CAAC,OAAAhC,GAAA,EAAAyD,UAAA,CAAAxD,CAAA,CAAAD,GAAA,WAAAyD,UAAA,CAAAvD,CAAA,IACDjE,kBAAkB,CAAC,SAAAkH,QAAQ,QAAI,CAAAG,WAAW,GAAC,CAAC,yBAAAM,SAAA,CAAAvC,IAAA,MAAAgC,QAAA,GAC/C,UAAAD,IAAA,CAAAhD,KAAA,MAAAC,SAAA,WACc,CAAA0D,WAAWA,CAAAC,EAAA,SAAAC,YAAA,CAAA7D,KAAA,MAAAC,SAAA,YAAA4D,aAAA,EAAAA,YAAA,CAAA3D,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAA0D,SAA2BzE,QAAQ,MAAA0E,MAAA,CAAAC,WAAA,CAAA1D,GAAA,CAAA2D,cAAA,CAAAnF,EAAA,CAAAoE,WAAA,CAAAC,WAAA,CAAAC,mBAAA,CAAAc,UAAA,CAAAC,MAAA,CAAA/B,OAAA,CAAAR,MAAA,CAAAwC,MAAA,CAAAnE,SAAA,QAAAE,mBAAA,GAAAK,IAAA,UAAA6D,UAAAC,SAAA,iBAAAA,SAAA,CAAA3D,IAAA,CAAA2D,SAAA,CAAA1D,IAAA,SAAEmD,MAAM,CAAAK,MAAA,CAAAG,MAAA,IAAAH,MAAA,MAAAI,SAAA,CAAAJ,MAAA,IAAG,CAAC,CAAEJ,WAAW,CAAAI,MAAA,CAAAG,MAAA,IAAAH,MAAA,MAAAI,SAAA,CAAAJ,MAAA,IAAG,IAAI,CAC/DpJ,UAAU,CAAGqE,QAAQ,CAAC,KAElB0E,MAAM,GAAK,CAAC,GAAAO,SAAA,CAAA1D,IAAA,UAAA0D,SAAA,CAAA1D,IAAA,SACA,CAAAC,KAAK,CAAC,kCAAkC,CAAG5F,QAAQ,CAAG,WAAW,CAAE,CAC3E,QAAQ,CAAE,KAAK,CACf,SAAS,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGpB,KACjC,CACJ,CAAC,CAAC,QANFyG,GAAG,CAAAgE,SAAA,CAAAxD,IAAA,CAAAwD,SAAA,CAAA1D,IAAA,iBAQH,GAAIpF,WAAW,GAAK,EAAE,CAAE,CACpBwB,aAAa,CAAAgF,aAAA,CAAAA,aAAA,IACNjF,UAAU,MAAAkH,cAAA,IAAAhC,eAAA,CAAAgC,cAAA,CAAGzI,WAAW,CAAAwG,aAAA,CAAAA,aAAA,IAAOjF,UAAU,CAACvB,WAAW,CAAC,MAAEkE,MAAM,CAAE,UAAU,IAAAuC,eAAA,CAAAgC,cAAA,CAC5E5E,QAAQ,CAAA2C,aAAA,CAAAA,aAAA,IAAOjF,UAAU,CAACsC,QAAQ,CAAC,MAAEK,MAAM,CAAE,QAAQ,IAAAuE,cAAA,GACxD,CACN,CAAC,IAAM,CACHjH,aAAa,CAAAgF,aAAA,CAAAA,aAAA,IACNjF,UAAU,KAAAkF,eAAA,IACZ5C,QAAQ,CAAA2C,aAAA,CAAAA,aAAA,IAAOjF,UAAU,CAACsC,QAAQ,CAAC,MAAEK,MAAM,CAAE,QAAQ,KACxD,CACN,CACMZ,EAAE,CAAG/B,UAAU,CAACsC,QAAQ,CAAC,CAACM,MAAM,CAACkC,QAAQ,EAAE,CACjD5G,QAAQ,CAAG6D,EAAE,CAACwF,SAAA,CAAA1D,IAAA,UACF,CAAAC,KAAK,CAAC,kCAAkC,CAAG/B,EAAE,CAAG,WAAW,CAAE,CACrE,QAAQ,CAAE,KAAK,CACf,SAAS,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGjF,KACjC,CACJ,CAAC,CAAC,SANFyG,GAAG,CAAAgE,SAAA,CAAAxD,IAAA,SASDoC,WAAW,CAAG,EAAE,CAAAoB,SAAA,CAAA1D,IAAA,UACI,CAAAN,GAAG,CAACS,IAAI,EAAE,SAA9BoC,WAAW,CAAAmB,SAAA,CAAAxD,IAAA,CACXsC,mBAAmB,CAAGD,WAAW,CAACM,OAAO,EAAE,CAAAS,UAAA,CAAA9F,0BAAA,CAC3BgF,mBAAmB,MAAzC,IAAAc,UAAA,CAAA5F,CAAA,KAAA6F,MAAA,CAAAD,UAAA,CAAA3F,CAAA,IAAAC,IAAA,EAA2C,CAAhC4D,OAAO,CAAA+B,MAAA,CAAAtJ,KAAA,CAA2B;AACrC+G,MAAM,CAAG,EAAE,CACf,GAAIQ,OAAO,CAACR,MAAM,CAACvC,QAAQ,GAAK7E,YAAY,CAACO,QAAQ,CAAE,CACnD6G,MAAM,CAAG,KAAK,CAClB,CAAC,IAAM,CACHA,MAAM,CAAG,OAAO,CACpB,CACAsB,WAAW,CAACQ,IAAI,CAAC,CAACtE,OAAO,CAAEgD,OAAO,CAAChD,OAAO,CAAEwC,MAAM,CAAEA,MAAM,CAAC,CAAC,CAChE,CAAC,OAAAhC,GAAA,EAAAsE,UAAA,CAAArE,CAAA,CAAAD,GAAA,WAAAsE,UAAA,CAAApE,CAAA,IACDjE,kBAAkB,CAAC,SAAAkH,QAAQ,QAAI,CAAAG,WAAW,GAAC,CAC3CzH,cAAc,CAAC4D,QAAQ,CAAC,CAAC,yBAAAiF,SAAA,CAAArD,IAAA,MAAA6C,QAAA,GAC5B,UAAAD,YAAA,CAAA7D,KAAA,MAAAC,SAAA,WAEc,CAAAwE,cAAcA,CAAAC,GAAA,SAAAC,eAAA,CAAA3E,KAAA,MAAAC,SAAA,YAAA0E,gBAAA,EAAAA,eAAA,CAAAzE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAAwE,SAA8BC,KAAK,SAAA1E,mBAAA,GAAAK,IAAA,UAAAsE,UAAAC,SAAA,iBAAAA,SAAA,CAAApE,IAAA,CAAAoE,SAAA,CAAAnE,IAAA,cAC5BiE,KAAK,CAACG,GAAG,GAAK,OAAO,GAAAD,SAAA,CAAAnE,IAAA,UACpBiE,KAAK,CAACI,cAAc,EAAE,CAACF,SAAA,CAAAnE,IAAA,SACjB,CAAAM,OAAO,EAAE,yBAAA6D,SAAA,CAAA9D,IAAA,MAAA2D,QAAA,GAEtB,UAAAD,eAAA,CAAA3E,KAAA,MAAAC,SAAA,WACc,CAAAiF,cAAcA,CAAAC,GAAA,SAAAC,eAAA,CAAApF,KAAA,MAAAC,SAAA,YAAAmF,gBAAA,EAAAA,eAAA,CAAAlF,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAAiF,SAA8BR,KAAK,SAAA1E,mBAAA,GAAAK,IAAA,UAAA8E,UAAAC,SAAA,iBAAAA,SAAA,CAAA5E,IAAA,CAAA4E,SAAA,CAAA3E,IAAA,cAC5BiE,KAAK,CAACG,GAAG,GAAK,OAAO,GAAAO,SAAA,CAAA3E,IAAA,UACpBiE,KAAK,CAACI,cAAc,EAAE,CAACM,SAAA,CAAA3E,IAAA,SACjB,CAAAyB,OAAO,EAAE,yBAAAkD,SAAA,CAAAtE,IAAA,MAAAoE,QAAA,GAEtB,UAAAD,eAAA,CAAApF,KAAA,MAAAC,SAAA,GACD,QAAS,CAAAuF,MAAMA,CAAA,CAAG,CACdpK,WAAW,CAAC,KAAK,CAAC,CAClBgC,QAAQ,CAAC,QAAQ,CAAC,CAACqI,OAAO,CAAC,IAAI,CAAC,CAAC,CACrC,CACA,mBACIpL,KAAA,CAAAE,SAAA,EAAAmL,QAAA,eACIvL,IAAA,UAAAuL,QAAA,CAAO,MAAI,EAAQ,cACnBvL,IAAA,SAAMwL,IAAI,CAAC,sBAAsB,CAACC,GAAG,CAAC,YAAY,EAAE,cACpDzL,IAAA,SAAMwL,IAAI,CAAC,sBAAsB,CAACC,GAAG,CAAC,YAAY,EAAE,cACpDzL,IAAA,SAAMwL,IAAI,CAAC,wBAAwB,CAACC,GAAG,CAAC,YAAY,EAAE,cACtDvL,KAAA,QAAKwL,SAAS,CAAC,gBAAgB,CAAAH,QAAA,eAC3BrL,KAAA,QAAKwL,SAAS,CAAC,qBAAqB,CAAAH,QAAA,eAChCrL,KAAA,QAAKwL,SAAS,CAAC,mBAAmB,CAAAH,QAAA,eAC9BvL,IAAA,QAAK0L,SAAS,CAAC,iBAAiB,CAAAH,QAAA,cAC5BvL,IAAA,QACI2L,GAAG,yCAAApE,MAAA,CAA0ClH,YAAY,CAACM,cAAc,CAAG,CAC3E+K,SAAS,CAAC,gBAAgB,CAACE,GAAG,CAAC,iBAAiB,EAAE,EACpD,cAEN5L,IAAA,QAAK0L,SAAS,CAAC,kBAAkB,CAAAH,QAAA,CAC5BlL,YAAY,CAACI,WAAW,EACvB,cAENT,IAAA,QAAK0L,SAAS,CAAC,UAAU,CAACG,OAAO,CAAEpJ,UAAW,CAAA8I,QAAA,cAC1CrL,KAAA,QAAK4L,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,cAAc,CAC7EP,SAAS,CAAC,kBAAkB,CAACQ,OAAO,CAAC,WAAW,CAAAX,QAAA,eACjDvL,IAAA,SACImM,CAAC,CAAC,wMAAwM,EAAE,cAChNnM,IAAA,SACImM,CAAC,CAAC,qMAAqM,EAAE,GAC3M,EACJ,GACJ,cACNnM,IAAA,OAAAuL,QAAA,CAAI,OAAK,EAAK,cACdvL,IAAA,CAACR,QAAQ,EAACoD,UAAU,CAAEA,UAAW,CAACwJ,OAAO,CAAE5C,WAAY,EAAE,GACvD,cAENxJ,IAAA,WAAQ0L,SAAS,CAAC,+BAA+B,CAACG,OAAO,CAAER,MAAO,CAAAE,QAAA,CAAC,SAAO,EAAS,cAEnFrL,KAAA,QAAKwL,SAAS,CAAC,uBAAuB,CAAAH,QAAA,eAClCvL,IAAA,QAAK0L,SAAS,CAAC,aAAa,CAAAH,QAAA,cACxBrL,KAAA,QAAKwL,SAAS,CAAC,gBAAgB,CAAAH,QAAA,eAC3BvL,IAAA,QAAK0L,SAAS,CAAC,sBAAsB,EAC/B,cACN1L,IAAA,QAAK0L,SAAS,CAAC,iBAAiB,EAC1B,GACJ,EACJ,cACN1L,IAAA,CAACZ,WAAW,EAAEiN,eAAe,CAAE5K,eAAgB,EAChC,CACbJ,WAAW,GAAG,EAAE,eAAMnB,KAAA,SAAMyE,EAAE,CAAC,WAAW,CAAA4G,QAAA,eACxCvL,IAAA,UAAOsM,GAAG,CAAE3K,QAAS,CAAC4K,IAAI,CAAC,GAAG,CAACC,IAAI,CAAC,MAAM,CAAC7H,EAAE,CAAC,YAAY,CACnD8H,WAAW,CAAC,2BAA2B,CAACC,SAAS,CAAEpC,cAAe,EAAG,cAC5EtK,IAAA,WAAQ2M,IAAI,CAAC,QAAQ,CAACjB,SAAS,CAAC,iBAAiB,CAAC/G,EAAE,CAAC,KAAK,CAACkH,OAAO,CAAE9E,OAAQ,CAAAwE,QAAA,CAAC,MAAI,EAAS,GACtF,GAIN,GACJ,cACNrL,KAAA,CAACN,KAAK,EAACsC,IAAI,CAAEA,IAAK,CAAC0K,MAAM,CAAEpK,WAAY,CAAA+I,QAAA,eACnCvL,IAAA,CAACJ,KAAK,CAACiN,MAAM,EAACC,WAAW,MAAAvB,QAAA,cACrBvL,IAAA,CAACJ,KAAK,CAACmN,KAAK,EAAAxB,QAAA,CAAC,UAAQ,EAAc,EACxB,cACfvL,IAAA,CAACJ,KAAK,CAACoN,IAAI,EAAAzB,QAAA,cACPvL,IAAA,SAAAuL,QAAA,cACIrL,KAAA,CAACL,IAAI,CAACoN,KAAK,EAACvB,SAAS,CAAC,MAAM,CAAAH,QAAA,eACxBvL,IAAA,CAACH,IAAI,CAACqN,KAAK,EAACC,OAAO,CAAC,gBAAgB,CAACzB,SAAS,CAAC,gBAAgB,CAAAH,QAAA,CAAC,eAAa,EAAa,cAC1FrL,KAAA,CAACL,IAAI,CAACoN,KAAK,EAACvB,SAAS,CAAC,aAAa,CAAAH,QAAA,eAC/BvL,IAAA,QAAK0L,SAAS,CAAC,kBAAkB,CAAAH,QAAA,CAAC,GAAC,EAAM,cACzCvL,IAAA,CAACH,IAAI,CAACuN,OAAO,EAACT,IAAI,CAAC,MAAM,CAACjB,SAAS,CAAC,cAAc,CAAC/G,EAAE,CAAC,gBAAgB,CAAC2H,GAAG,CAAEtJ,MAAO,CACrEqK,SAAS,CAAI/K,OAAQ,CAACoK,SAAS,CAAE3B,cAAe,EAAG,cACjE/K,IAAA,CAACH,IAAI,CAACuN,OAAO,CAACE,QAAQ,EAACX,IAAI,CAAC,SAAS,CAAApB,QAAA,CAAEzJ,gBAAgB,EAAyB,GACvE,GACJ,EACV,EACE,cACb5B,KAAA,CAACN,KAAK,CAAC2N,MAAM,EAAAhC,QAAA,eACTvL,IAAA,CAACL,MAAM,EAAC6N,OAAO,CAAC,WAAW,CAAC3B,OAAO,CAAErJ,WAAY,CAAA+I,QAAA,CAAC,OAElD,EAAS,cACTvL,IAAA,CAACL,MAAM,EAAC6N,OAAO,CAAC,SAAS,CAAC3B,OAAO,CAAE3D,OAAQ,CAAAqD,QAAA,CAAC,cAE5C,EAAS,GACE,GACX,GACT,CAGX,CAEA,cAAe,CAAAxK,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}