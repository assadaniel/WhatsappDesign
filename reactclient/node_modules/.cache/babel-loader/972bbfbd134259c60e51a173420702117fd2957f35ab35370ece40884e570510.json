{"ast":null,"code":"import _regeneratorRuntime from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../login_signup.css';import{Link,useNavigate}from'react-router-dom';import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import{useState}from\"react\";import InputField from'./InputField.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Signup(){var _useState=useState({username:{message:'',invalid:2},password1:{message:'',invalid:2},password2:{message:'',invalid:2},displayname:{message:'',invalid:2},file:{message:'',invalid:2}}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];// 0 = valid, 1 = invalid - display message, 2= empty, do nothing.\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pic=_useState4[0],setPic=_useState4[1];//const reader = new FileReader();\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),realPic=_useState6[0],setRealPic=_useState6[1];var defaultProfilePicture=\"https://images-na.ssl-images-amazon.com/images/I/51e6kpkyuIL._AC_SX466_.jpg\";var navigate=useNavigate();function checkPassword(event){var password=event.target.value;// if(password===''){\n//     setErrors({...errors,password1:{message:'', invalid:1}});\n//     return;\n// }\nif(password.length<6){setErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:'Password length must contain a minimum of 6 characters',invalid:1}}));return;}// to check space\nif(password.indexOf(\" \")!==-1){//setError(\"Password can't contain spaces.\");\nsetErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:\"Password can't contain spaces.\",invalid:1}}));return;}// for digits from 0 to 9\nvar count=0;for(var i=0;i<=9;i++){if(password.indexOf(i)!==-1){count=1;}}if(count===0){//setError(\"Password must contain at least one digit.\");\nsetErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:\"Password must contain at least one digit.\",invalid:1}}));return;}// for special characters\nif(!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password)){//setError(\"Password must contain at least one special characters.\");\nsetErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:\"Password must contain at least one special characters.\",invalid:1}}));return;}// for capital letters\ncount=0;for(var _i=65;_i<=90;_i++){if(password.indexOf(String.fromCharCode(_i))!==-1){count=1;}}if(count===0){//setError(\"Password must contain uppercase characters.\");\nsetErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:\"Password must contain uppercase characters.\",invalid:1}}));return;}// for small letters\ncount=0;for(var _i2=97;_i2<=122;_i2++){if(password.indexOf(String.fromCharCode(_i2))!==-1){count=1;}}if(count===0){//setError(\"Password must contain lowercase characters.\");\nsetErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:\"Password must contain lowercase characters.\",invalid:1}}));return;}setErrors(_objectSpread(_objectSpread({},errors),{},{password1:{message:'',invalid:0}}));// if all conditions fail we don't change anything\n}function changeFromEmpty(event){var name=event.target.name;if(event.target.value!==''){setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,{message:'',invalid:0})));}else{setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,{message:'',invalid:2})));}}function showPic(event){var file=event.target.files[0];setRealPic(file);if(file){setPic(URL.createObjectURL(event.target.files[0]));}else{setPic('');}}function checkAllValids(){for(var property in errors){if(errors[property].invalid===1)return false;}return true;}function checkEmpty(username,password1,password2,displayname){var empty=false;if(username===''){setErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{username:{message:\"Must input username.\",invalid:1}});});empty=true;}if(password1===''){// setErrors({...errors, password1: {message: \"Must input password.\", invalid: 1}})\nsetErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{password1:{message:\"Must input password.\",invalid:1}});});empty=true;}if(password2===''){// setErrors({...errors, password2: {message: \"Must input password verification.\", invalid: 1}})\nsetErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{password2:{message:\"Must input password verification.\",invalid:1}});});empty=true;}if(displayname===''){// setErrors({...errors, displayname: {message: \"Must input display name.\", invalid: 1}})\nsetErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{displayname:{message:\"Must input display name.\",invalid:1}});});empty=true;}// console.log(empty);\nreturn empty;}function getBase64(){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onloadend=function(){resolve(reader.result);};reader.onerror=reject;reader.readAsDataURL(new Blob([realPic]));});}function isValid(username,password1,password2,displayname){if(checkEmpty(username,password1,password2,displayname)){return false;}if(!checkAllValids()){return false;}if(password1!==password2){setErrors(_objectSpread(_objectSpread({},errors),{},{password2:{message:\"Doesn't match first password input.\",invalid:1}}));return false;}if(displayname.length>10){setErrors(_objectSpread(_objectSpread({},errors),{},{displayname:{message:\"Display name length must be at most 10.\",invalid:1}}));return false;}return true;}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}//{label,name,id,errors,type,placeholder, checker}\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var username,password1,password2,displayname,pic_url,prefixToRemove,newUser,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();username=event.target.username.value;password1=event.target.password1.value;password2=event.target.password2.value;displayname=event.target.displayname.value;if(isValid(username,password1,password2,displayname)){_context.next=7;break;}return _context.abrupt(\"return\");case 7:// saving data\npic_url=pic;if(!(pic_url==='')){_context.next=12;break;}pic_url=defaultProfilePicture;_context.next=15;break;case 12:_context.next=14;return getBase64();case 14:pic_url=_context.sent;case 15:prefixToRemove=\"data:application/octet-stream;base64,\";pic_url=pic_url.substring(prefixToRemove.length);newUser={username:username,password:password1,displayName:displayname,profilePic:pic_url};// post user to server\n_context.next=20;return fetch('http://localhost:5000/api/Users',{'method':'post','headers':{'Content-Type':'application/json'},'body':JSON.stringify(newUser)});case 20:res=_context.sent;if(!(res.status!==200)){_context.next=24;break;}setErrors(_objectSpread(_objectSpread({},errors),{},{username:{message:\"Username already exists or picture too large.\",invalid:1}}));return _context.abrupt(\"return\");case 24:// users[username] = newUser; - no need for this now.\nnavigate('/login',{replace:true});case 25:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Sign up\"}),/*#__PURE__*/_jsx(\"link\",{href:\"../login_signup.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"back-box\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card login-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(Form,{className:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(InputField,{label:\"Username\",type:\"text\",id:\"InputUsername2\",placeholder:\"Enter username\",name:\"username\",checker:changeFromEmpty,errors:errors}),/*#__PURE__*/_jsx(InputField,{label:\"Password\",type:\"password\",id:\"InputPassword1\",placeholder:\"Enter password\",name:\"password1\",checker:checkPassword,errors:errors,addValid:true}),/*#__PURE__*/_jsx(InputField,{label:\"Verify password\",type:\"password\",id:\"InputPassword2\",placeholder:\"Enter password again\",name:\"password2\",checker:changeFromEmpty,errors:errors}),/*#__PURE__*/_jsx(InputField,{label:\"Display name\",type:\"text\",aria:\"DisplayNameHelp\",placeholder:\"Enter display name\",name:\"displayname\",checker:changeFromEmpty,errors:errors,ariatext:\"This is the name you will appear by.\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"form-label\",children:\"Picture\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"form-control\",type:\"file\",id:\"formFile\",onChange:showPic,name:\"image\",accept:\"image/*\"}),pic===''&&/*#__PURE__*/_jsx(\"div\",{id:\"formFile\",className:\"form-text text-muted\",children:\"If no profile picture is provided a default picture will be used.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"img-cont\",children:/*#__PURE__*/_jsx(\"img\",{src:pic,id:\"Profile-Picture\",alt:\"Profile Picture\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn btn-primary\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"sign-box\",children:[\"Already registered? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Click here\"}),\" to login\"]})]})})})]});}export default Signup;","map":{"version":3,"names":["Link","useNavigate","Form","Button","useState","InputField","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","_useState","username","message","invalid","password1","password2","displayname","file","_useState2","_slicedToArray","errors","setErrors","_useState3","_useState4","pic","setPic","_useState5","_useState6","realPic","setRealPic","defaultProfilePicture","navigate","checkPassword","event","password","target","value","length","_objectSpread","indexOf","count","i","test","String","fromCharCode","changeFromEmpty","name","_defineProperty","showPic","files","URL","createObjectURL","checkAllValids","property","checkEmpty","empty","getBase64","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","Blob","isValid","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","pic_url","prefixToRemove","newUser","res","wrap","_callee$","_context","prev","next","preventDefault","abrupt","sent","substring","displayName","profilePic","fetch","JSON","stringify","status","replace","stop","children","href","rel","className","onSubmit","label","type","id","placeholder","checker","addValid","aria","ariatext","Group","Label","Control","onChange","accept","src","alt","to"],"sources":["/Users/daniellifshitz/Documents/GitHub/WhatsappDesign/reactclient/src/login_signup/signup/Signup.js"],"sourcesContent":["import '../login_signup.css'\nimport {Link, useNavigate} from 'react-router-dom'\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\"\nimport {useState} from \"react\";\nimport InputField from './InputField.js'\n\nfunction Signup() {\n    const [errors, setErrors] = useState({\n        username: {message: '', invalid: 2},\n        password1: {message: '', invalid: 2},\n        password2: {message: '', invalid: 2},\n        displayname: {message: '', invalid: 2},\n        file: {message: '', invalid: 2},\n    });\n    // 0 = valid, 1 = invalid - display message, 2= empty, do nothing.\n    const [pic, setPic] = useState('')\n    //const reader = new FileReader();\n    const [realPic, setRealPic] = useState(null);\n    const defaultProfilePicture = \"https://images-na.ssl-images-amazon.com/images/I/51e6kpkyuIL._AC_SX466_.jpg\";\n    const navigate = useNavigate();\n    function checkPassword(event) {\n        let password = event.target.value;\n        // if(password===''){\n        //     setErrors({...errors,password1:{message:'', invalid:1}});\n        //     return;\n        // }\n        if (password.length < 6) {\n\n            setErrors({\n                ...errors, password1: {\n                    message: 'Password length must contain a minimum of 6 characters',\n                    invalid: 1\n                }\n            });\n\n            return;\n        }\n\n        // to check space\n        if (password.indexOf(\" \") !== -1) {\n            //setError(\"Password can't contain spaces.\");\n            setErrors({\n                ...errors, password1: {\n                    message: \"Password can't contain spaces.\",\n                    invalid: 1\n                }\n            });\n            return;\n        }\n\n        // for digits from 0 to 9\n        let count = 0;\n        for (let i = 0; i <= 9; i++) {\n            if (password.indexOf(i) !== -1) {\n                count = 1;\n            }\n        }\n        if (count === 0) {\n            //setError(\"Password must contain at least one digit.\");\n            setErrors({\n                ...errors, password1: {\n                    message: \"Password must contain at least one digit.\",\n                    invalid: 1\n                }\n            });\n            return;\n        }\n\n        // for special characters\n        if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password)) {\n            //setError(\"Password must contain at least one special characters.\");\n            setErrors({\n                ...errors, password1: {\n                    message: \"Password must contain at least one special characters.\",\n                    invalid: 1\n                }\n            });\n            return;\n        }\n\n        // for capital letters\n        count = 0;\n        for (let i = 65; i <= 90; i++) {\n            if (password.indexOf(String.fromCharCode(i)) !== -1) {\n                count = 1;\n            }\n        }\n        if (count === 0) {\n            //setError(\"Password must contain uppercase characters.\");\n            setErrors({\n                ...errors, password1: {\n                    message: \"Password must contain uppercase characters.\",\n                    invalid: 1\n                }\n            });\n            return;\n        }\n\n        // for small letters\n        count = 0;\n        for (let i = 97; i <= 122; i++) {\n            if (password.indexOf(String.fromCharCode(i)) !== -1) {\n                count = 1;\n            }\n        }\n        if (count === 0) {\n            //setError(\"Password must contain lowercase characters.\");\n            setErrors({\n                ...errors, password1: {\n                    message: \"Password must contain lowercase characters.\",\n                    invalid: 1\n                }\n            });\n            return;\n        }\n        setErrors({...errors, password1: {message: '', invalid: 0}});\n        // if all conditions fail we don't change anything\n\n    }\n    function changeFromEmpty(event) {\n        let name = event.target.name;\n        if(event.target.value!=='') {\n            setErrors({...errors, [name]: {message: '', invalid: 0}});\n        } else {\n            setErrors({...errors, [name]: {message: '', invalid: 2}});\n\n        }\n    }\n\n    function showPic(event) {\n        let file = event.target.files[0];\n        setRealPic(file);\n        if (file) {\n            setPic(URL.createObjectURL(event.target.files[0]))\n        } else {\n            setPic('')\n        }\n    }\n\n    function checkAllValids() {\n        for (const property in errors) {\n            if (errors[property].invalid === 1)\n                return false;\n        }\n        return true;\n    }\n\n    function checkEmpty(username, password1, password2, displayname) {\n        let empty = false;\n        if (username === '') {\n            setErrors((errors) => ({...errors, username: {message: \"Must input username.\", invalid: 1}}))\n            empty = true;\n        }\n        if (password1 === '') {\n            // setErrors({...errors, password1: {message: \"Must input password.\", invalid: 1}})\n            setErrors((errors) => ({\n                ...errors,\n                password1: {message: \"Must input password.\", invalid: 1}\n            }))\n\n            empty = true;\n\n        }\n        if (password2 === '') {\n            // setErrors({...errors, password2: {message: \"Must input password verification.\", invalid: 1}})\n            setErrors((errors) => ({\n                ...errors,\n                password2: {message: \"Must input password verification.\", invalid: 1}\n            }))\n\n            empty = true;\n\n        }\n        if (displayname === '') {\n            // setErrors({...errors, displayname: {message: \"Must input display name.\", invalid: 1}})\n            setErrors((errors) => ({\n                ...errors,\n                displayname: {message: \"Must input display name.\", invalid: 1}\n            }))\n\n            empty = true;\n\n        }\n        // console.log(empty);\n        return empty;\n\n    }\n    function getBase64() {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n\n            reader.onloadend = () => {\n                resolve(reader.result);\n            };\n\n            reader.onerror = reject;\n\n            reader.readAsDataURL(new Blob([realPic]));\n        });\n    }\n    function isValid(username, password1, password2, displayname) {\n        if (checkEmpty(username, password1, password2, displayname)) {\n            return false;\n        }\n        if (!checkAllValids()) {\n            return false;\n        }\n        if (password1 !== password2) {\n            setErrors({...errors, password2: {message: \"Doesn't match first password input.\", invalid: 1}});\n            return false;\n        }\n        if(displayname.length>10) {\n            setErrors({...errors, displayname: {message: \"Display name length must be at most 10.\", invalid:1}});\n            return false;\n\n        }\n        return true;\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        const username = event.target.username.value;\n        const password1 = event.target.password1.value;\n        const password2 = event.target.password2.value;\n        const displayname = event.target.displayname.value;\n        if(!isValid(username,password1,password2,displayname))\n            return;\n        // saving data\n        let pic_url = pic;\n        if (pic_url === '')\n            pic_url = defaultProfilePicture;\n        else {\n            pic_url = await getBase64();\n        }\n        const prefixToRemove = \"data:application/octet-stream;base64,\";\n        pic_url = pic_url.substring(prefixToRemove.length)\n        let newUser = {\n            username: username, password: password1, displayName: displayname, profilePic: pic_url\n        }\n        // post user to server\n        const res = await fetch('http://localhost:5000/api/Users', {\n            'method': 'post',\n            'headers' :{\n                'Content-Type': 'application/json',\n            },\n            'body':JSON.stringify(newUser)\n\n        })\n        // if(res.status===200) {\n        //     console.log('OK - post user');\n        // }\n        if(res.status!==200) {\n            setErrors({...errors, username: {message: \"Username already exists or picture too large.\", invalid:1}});\n            return;\n        }\n        // users[username] = newUser; - no need for this now.\n        navigate('/login',{replace:true});\n\n    }\n\n    //{label,name,id,errors,type,placeholder, checker}\n\n    return (\n        <>\n            <title>Sign up</title>\n            <link href=\"../login_signup.css\" rel=\"stylesheet\"/>\n            <div className=\"back-box\"/>\n            <div className=\"card login-box\">\n                <div className=\"card-body\">\n                    <Form className=\"\" onSubmit={handleSubmit}>\n                        <InputField label='Username' type='text' id='InputUsername2' placeholder='Enter username'\n                                    name='username' checker={changeFromEmpty} errors={errors}/>\n                        <InputField label='Password' type='password' id='InputPassword1' placeholder='Enter password'\n                                    name='password1'  checker = {checkPassword} errors = {errors} addValid={true}/>\n                        <InputField label='Verify password' type='password' id='InputPassword2' placeholder='Enter password again'\n                                    name='password2' checker={changeFromEmpty} errors={errors} />\n                        <InputField label='Display name' type='text' aria='DisplayNameHelp' placeholder='Enter display name'\n                                    name='displayname' checker={changeFromEmpty} errors={errors}\n                                    ariatext='This is the name you will appear by.' />\n                        {/*no component here, because of the logic*/}\n                        <Form.Group className=\"mb-3\">\n                            <Form.Label className=\"form-label\">\n                                Picture\n                            </Form.Label>\n                            <Form.Control className=\"form-control\" type=\"file\" id=\"formFile\"\n                                          onChange={showPic} name=\"image\" accept=\"image/*\"\n                            />\n                            {pic === '' &&\n                                <div id=\"formFile\" className=\"form-text text-muted\">\n                                    If no profile picture is provided a default picture will be used.\n                                </div>}\n                        </Form.Group>\n                        <div className=\"img-cont\">\n                            <img\n                                src={pic}\n                                id=\"Profile-Picture\"\n                                alt=\"Profile Picture\"\n                            />\n                        </div>\n                        <br/>\n                        {/*need to make it link to chat*/}\n                        <Button type=\"submit\" className=\"btn btn-primary\">\n                            Register\n                        </Button>\n                        <span className=\"sign-box\">\n          Already registered? <Link to=\"/login\">Click here</Link> to\n          login\n        </span>\n                    </Form>\n                </div>\n            </div>\n        </>\n\n    );\n}\n\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}